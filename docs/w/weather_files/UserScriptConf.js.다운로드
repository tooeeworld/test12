// UserScriptConf.js //
// last_version: 3.2.0_min //

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

var turn_on_fid_cookie = true;	// "_harry_fid", device id cookie

var turn_on_hsid_cookie = true;	// "_harry_hsid", session id in same host cookie

var turn_on_dsid_cookie = true;	// "_harry_dsid", session id in same domain cookie

var turn_on_vid_cookie = true;	// "XTVID", anoymous id cookie

var turn_on_xloc_cookie = true;	// "xloc", screen pixel info cookie

var turn_on_lang_cookie = true; // "_harry_lang", language info set in browser cookie

/// call set_cookie.uid(id): "XTLID", call set_cookie.info(text): "_harry_info"
/// call clear_cookie(cookie_name): clear value of the cookie

var turn_on_sending_logs_to_api_server = true;

var api_server_url = 'https://weblog.kma.go.kr/userScript/userScript/UserInfoGet?&';

//////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////

function get_host(e){try{if(!e)return"";try{return e.replace(/(\w+)?:?\/\/{1}/,"").split(/[\/?#:]/)[0]}catch(e){}}catch(e){console.log(e)}}function get_domain(e){try{return/\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}/.exec(get_host(e))[0]}catch(e){}try{var t=get_host(e).split(".");return 1==t.length?t[0]:2==t.length||t[t.length-1].length>2?t[t.length-2]+"."+t[t.length-1]:t[t.length-3]+"."+t[t.length-2]+"."+t[t.length-1]}catch(e){console.log(e)}}var _hsidyn_,_dsidyn_,harry_domain=get_domain(document.domain),harry_ref_host=get_host(document.referrer),issue_cookie=function(e,t,r,n,o){try{var i=new Date;i.setDate(i.getDate()+o);var c=o<0?"":i.toUTCString(),s=e+"="+escape(t)+"; domain="+r+"; path="+n+"; expires="+c;document.cookie=s}catch(e){console.log(e)}},issue_min_cookie=function(e,t,r,n,o){try{var i=new Date;i.setMilliseconds(i.getMilliseconds()+60*o*1e3);var c=o<0?"":i.toUTCString(),s=e+"="+escape(t)+"; domain="+r+"; path="+n+"; expires="+c;document.cookie=s}catch(e){console.log(e)}},hash_value=function(e){var t=0;if(0==e.length)return t;for(i=0;i<e.length;i++)char=e.charCodeAt(i),t=(t<<5)-t+char,t&=t;return t},enkode=function(e){try{return btoa(encodeURIComponent(e))}catch(t){return e}},is_cookie=function(e){try{var t=new RegExp(e+"=[^;]+");return e&&t.exec(document.cookie)?1:0}catch(e){return 0}},get_cookie=function(e){if(!e)return null;try{var t=new RegExp(e+"=(([^;]?)+)").exec(document.cookie)[1];return(t=unescape(t))||null}catch(e){return null}},base64_cookie=function(e){if(!e)return null;try{var t=new RegExp(e+"=(([^;]?)+)").exec(document.cookie)[1]}catch(e){return null}try{return(t=decodeURIComponent(atob(decodeURIComponent(t))))||null}catch(e){return null}},clear_cookie=function(e){try{issue_min_cookie(e,"",harry_domain,"/",1/6e4)}catch(e){console.log(e)}},set_cookie={str_now:function(){try{return new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().replace(/-|:|\.|T|Z/g,"").substring(2)}catch(e){return(new Date).toISOString().replace(/-|:|\.|T|Z/g,"").substring(2)}},hsid:function(){try{if(is_cookie("_harry_hsid")&&harry_ref_host==get_host(document.location.host)){var e=get_cookie("_harry_hsid");window._hsidyn_="N",issue_min_cookie("_harry_hsid",e,harry_domain,"/",30)}else{var t="A"+this.str_now();t+=(""+Math.random()).substr(2,3),window._hsidyn_="Y",issue_min_cookie("_harry_hsid",t,harry_domain,"/",30)}}catch(e){console.log(e),window._hsidyn_="N",issue_min_cookie("_harry_hsid","error_catched",harry_domain,"/",30)}},dsid:function(){try{if(is_cookie("_harry_dsid")&&harry_domain==get_domain(document.referrer)){var e=get_cookie("_harry_dsid");window._dsidyn_="N",issue_min_cookie("_harry_dsid",e,harry_domain,"/",30)}else{var t="A"+this.str_now();t+=(""+Math.random()).substr(2,3),window._dsidyn_="Y",issue_min_cookie("_harry_dsid",t,harry_domain,"/",30)}}catch(e){console.log(e),window._dsidyn_="N",issue_min_cookie("_harry_dsid","error_catched",harry_domain,"/",30)}},vid:function(){try{if(!is_cookie("XTVID")){var e="A"+this.str_now();e+=(""+Math.random()).substr(2,3),issue_cookie("XTVID",e,harry_domain,"/",36500)}}catch(e){console.log(e)}},uid:function(e){try{issue_cookie("XTLID",e,harry_domain,"/","-1")}catch(e){console.log(e)}},info:function(e){try{_value=btoa(e),issue_cookie("_harry_info",_value,harry_domain,"/","-1")}catch(t){_value=btoa(encodeURIComponent(e)),issue_cookie("_harry_info",_value,harry_domain,"/","-1")}},xloc:function(){try{try{var e=screen.width+"X";e+=screen.height,issue_cookie("xloc",e,harry_domain,"/",365)}catch(e){issue_cookie("xloc","no_screen_info_found",harry_domain,"/",365)}}catch(e){console.log(e)}},urlref:function(){try{document.location.host!=harry_ref_host&&(issue_cookie("_harry_ref",document.referrer,harry_domain,"/","-1"),issue_cookie("_harry_url",document.URL,harry_domain,"/","-1"))}catch(e){console.log(e)}}},device_cd=function(){var e="",t=navigator,r=t.language||t.userLanguage||t.languages[0]||t.browserLanguage||t.systemLanguage;return{ua:function(){e+=t.userAgent},la:function(){e+=r||"no_lang_info"},cd:function(){var t=window.screen;e+=t.colorDepth},pr:function(){e+=window.devicePixelRatio},tzo:function(){var t=new Date;e+=t.getTimezoneOffset()},platform:function(){e+=t.platform},set_cookie_lang:function(){try{issue_cookie("_harry_lang",r,harry_domain,"/",36500)}catch(e){console.log(e)}},set_cookie_fid:function(){try{is_cookie("_harry_fid")||issue_cookie("_harry_fid",this.value(),harry_domain,"/",10)}catch(e){console.log(e)}},value:function(){this.ua(),this.la(),this.cd(),this.pr(),this.tzo(),this.platform();var t=e.replace(/\s+/g,"");return e="","hh"+hash_value(t)}}}(),get_keys_locsto=function(){for(var e=[],t=0;t<localStorage.length;t++)try{e.push(localStorage.key(t))}catch(e){}return e},get_pdata_keys=function(e){for(var t=[],r=0;r<e.length;r++)try{t.push(/pdata_/.exec(e[r]).input)}catch(e){}return t.sort()},get_pjson_keys=function(e){for(var t=[],r=0;r<e.length;r++)try{t.push(/pjson/.exec(e[r]).input)}catch(e){}return t.sort()},gen_pdata=function(){var e=set_cookie.str_now();return{key:function(){return"pdata_"+e},jkey:function(){return"pjson"+e},rtjson:function(){var t=document.URL.replace(/\w+\:\/\//,"")||"",r=document.referrer.replace(/\w+\:\/\//,"")||"",n=navigator.userAgent||"",o=(document.cookie||"").split("; "),i={hjs:"rt",hdt:e,hss:_hsidyn_,dss:_dsidyn_};return o.forEach(function(e){e=e.split("="),i[e[0]]=e[1]||""}),{url:t,ref:r,ua:n,dc:i}},lsjson:function(){var t=document.URL.replace(/\w+\:\/\//,"")||"",r=document.referrer.replace(/\w+\:\/\//,"")||"",n=navigator.userAgent||"",o=(document.cookie||"").split("; "),i={hjs:"ls",hdt:e,hss:_hsidyn_,dss:_dsidyn_};return o.forEach(function(e){e=e.split("="),i[e[0]]=e[1]||""}),{url:t,ref:r,ua:n,dc:i}},rtvalue:function(){var t=encodeURIComponent(document.URL.replace(/\w+\:\/\//,"")||""),r=encodeURIComponent(document.referrer.replace(/\w+\:\/\//,"")||""),n=encodeURIComponent(navigator.userAgent||""),o=encodeURIComponent(document.cookie||""),i=encodeURIComponent(get_cookie("XTLID")||"");return"url="+t+"&ref="+r+"&req_type=xml&ua="+n+"&dc=hjs=rt; hdt="+e+"; hss="+_hsidyn_+"; dss="+_dsidyn_+"; "+o+"&xtuid="+i+"&httpstatus=200&method=GET&gvhost="},lsvalue:function(){var t=encodeURIComponent(document.URL.replace(/\w+\:\/\//,"")||""),r=encodeURIComponent(document.referrer.replace(/\w+\:\/\//,"")||""),n=encodeURIComponent(navigator.userAgent||""),o=encodeURIComponent(document.cookie||""),i=encodeURIComponent(get_cookie("XTLID")||"");return"url="+t+"&ref="+r+"&req_type=xml&ua="+n+"&dc=hjs=ls; hdt="+e+"; hss="+_hsidyn_+"; dss="+_dsidyn_+"; "+o+"&xtuid="+i+"&httpstatus=200&method=GET&gvhost="}}}();function get_xhr(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(!window.ActiveXObject)return null;try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}}function send_log(){var e=get_xhr();e.onload=function(t){4===e.readyState&&(200===e.status?console.log("api connected for g log !!"):console.error(t))},e.ontimeout=function(e){localStorage.setItem(gen_pdata.key(),gen_pdata.lsvalue()),console.error(e)};var t=api_server_url;try{e.open("GET",t+gen_pdata.rtvalue(),!0),e.timeout=5e3,e.send(null)}catch(e){localStorage.setItem(gen_pdata.key(),gen_pdata.lsvalue())}}function send_pdata(){var e=get_pdata_keys(get_keys_locsto());if(e)for(var t=0;t<e.length;t++){var r=get_xhr();r.onload=function(e){4===r.readyState&&(200===r.status?console.log("api connected for g ls !!"):console.error(e))},r.ontimeout=function(e){console.error(e)};var n=api_server_url;try{r.open("GET",n+localStorage.getItem(e[t]),!0),r.timeout=5e3,r.send(null),localStorage.removeItem(e[t])}catch(e){console.error(e)}}}function send_log_json(){var e=get_xhr();e.onload=function(t){4===e.readyState&&(200===e.status?console.log("api connected for p log !!"):console.error(t))},e.ontimeout=function(e){localStorage.setItem(gen_pdata.jkey(),JSON.stringify({data:aes256.enkrypt(JSON.stringify(gen_pdata.lsjson()))})),console.error(e)};try{e.open("POST","http://211.111.217.78:1967/userlog_post",!0),e.timeout=5e3,e.setRequestHeader("Content-Type","text/plain"),e.send(JSON.stringify({data:aes256.enkrypt(JSON.stringify(gen_pdata.rtjson()))}))}catch(e){localStorage.setItem(gen_pdata.jkey(),JSON.stringify({data:aes256.enkrypt(JSON.stringify(gen_pdata.lsjson()))}))}}function send_pdata_json(){var e=get_pjson_keys(get_keys_locsto());if(e)for(var t=0;t<e.length;t++){var r=get_xhr();r.onload=function(e){4===r.readyState&&(200===r.status?console.log("api connected for p ls !!"):console.error(e))},r.ontimeout=function(e){console.error(e)};try{r.open("POST","http://211.111.217.78:1967/userlog_post",!0),r.timeout=5e3,r.setRequestHeader("Content-Type","text/plain"),r.send(localStorage.getItem(e[t])),localStorage.removeItem(e[t])}catch(e){console.error(e)}}}var CryptoJS=CryptoJS||function(e,t){var r={},n=r.lib={},o=function(){},i=n.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=n.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var o=0;o<e;o++)t[n+o>>>2]|=(r[o>>>2]>>>24-o%4*8&255)<<24-(n+o)%4*8;else if(65535<r.length)for(o=0;o<e;o+=4)t[n+o>>>2]=r[o>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new c.init(r,t)}}),s=r.enc={},a=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var o=t[n>>>2]>>>24-n%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},d=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=n.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,o=r.sigBytes,i=this.blockSize,s=o/(4*i);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*i,o=e.min(4*t,o),t){for(var a=0;a<t;a+=i)this._doProcessBlock(n,a);a=n.splice(0,t),r.sigBytes-=o}return new c.init(a,o)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=h.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new l.HMAC.init(e,r).finalize(t)}}});var l=r.algo={};return r}(Math);!function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var o=0;o<r;o+=3)for(var i=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;4>c&&o+.75*c<r;c++)e.push(n.charAt(i>>>6*(3-c)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(o=n.charAt(64))&&(-1!=(o=e.indexOf(o))&&(r=o));for(var o=[],i=0,c=0;c<r;c++)if(c%4){var s=n.indexOf(e.charAt(c-1))<<c%4*2,a=n.indexOf(e.charAt(c))>>>6-c%4*2;o[i>>>2]|=(s|a)<<24-i%4*8,i++}return t.create(o,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,r,n,o,i,c){return((e=e+(t&r|~t&n)+o+c)<<i|e>>>32-i)+t}function r(e,t,r,n,o,i,c){return((e=e+(t&n|r&~n)+o+c)<<i|e>>>32-i)+t}function n(e,t,r,n,o,i,c){return((e=e+(t^r^n)+o+c)<<i|e>>>32-i)+t}function o(e,t,r,n,o,i,c){return((e=e+(r^(t|~n))+o+c)<<i|e>>>32-i)+t}for(var i=CryptoJS,c=(a=i.lib).WordArray,s=a.Hasher,a=i.algo,u=[],d=0;64>d;d++)u[d]=4294967296*e.abs(e.sin(d+1))|0;a=a.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,i){for(var c=0;16>c;c++){var s=e[a=i+c];e[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}c=this._hash.words;var a=e[i+0],d=(s=e[i+1],e[i+2]),h=e[i+3],l=e[i+4],_=e[i+5],f=e[i+6],p=e[i+7],y=e[i+8],g=e[i+9],v=e[i+10],m=e[i+11],k=e[i+12],S=e[i+13],w=e[i+14],x=e[i+15],B=t(B=c[0],z=c[1],R=c[2],C=c[3],a,7,u[0]),C=t(C,B,z,R,s,12,u[1]),R=t(R,C,B,z,d,17,u[2]),z=t(z,R,C,B,h,22,u[3]);B=t(B,z,R,C,l,7,u[4]),C=t(C,B,z,R,_,12,u[5]),R=t(R,C,B,z,f,17,u[6]),z=t(z,R,C,B,p,22,u[7]),B=t(B,z,R,C,y,7,u[8]),C=t(C,B,z,R,g,12,u[9]),R=t(R,C,B,z,v,17,u[10]),z=t(z,R,C,B,m,22,u[11]),B=t(B,z,R,C,k,7,u[12]),C=t(C,B,z,R,S,12,u[13]),R=t(R,C,B,z,w,17,u[14]),B=r(B,z=t(z,R,C,B,x,22,u[15]),R,C,s,5,u[16]),C=r(C,B,z,R,f,9,u[17]),R=r(R,C,B,z,m,14,u[18]),z=r(z,R,C,B,a,20,u[19]),B=r(B,z,R,C,_,5,u[20]),C=r(C,B,z,R,v,9,u[21]),R=r(R,C,B,z,x,14,u[22]),z=r(z,R,C,B,l,20,u[23]),B=r(B,z,R,C,g,5,u[24]),C=r(C,B,z,R,w,9,u[25]),R=r(R,C,B,z,h,14,u[26]),z=r(z,R,C,B,y,20,u[27]),B=r(B,z,R,C,S,5,u[28]),C=r(C,B,z,R,d,9,u[29]),R=r(R,C,B,z,p,14,u[30]),B=n(B,z=r(z,R,C,B,k,20,u[31]),R,C,_,4,u[32]),C=n(C,B,z,R,y,11,u[33]),R=n(R,C,B,z,m,16,u[34]),z=n(z,R,C,B,w,23,u[35]),B=n(B,z,R,C,s,4,u[36]),C=n(C,B,z,R,l,11,u[37]),R=n(R,C,B,z,p,16,u[38]),z=n(z,R,C,B,v,23,u[39]),B=n(B,z,R,C,S,4,u[40]),C=n(C,B,z,R,a,11,u[41]),R=n(R,C,B,z,h,16,u[42]),z=n(z,R,C,B,f,23,u[43]),B=n(B,z,R,C,g,4,u[44]),C=n(C,B,z,R,k,11,u[45]),R=n(R,C,B,z,x,16,u[46]),B=o(B,z=n(z,R,C,B,d,23,u[47]),R,C,a,6,u[48]),C=o(C,B,z,R,p,10,u[49]),R=o(R,C,B,z,w,15,u[50]),z=o(z,R,C,B,_,21,u[51]),B=o(B,z,R,C,k,6,u[52]),C=o(C,B,z,R,h,10,u[53]),R=o(R,C,B,z,v,15,u[54]),z=o(z,R,C,B,s,21,u[55]),B=o(B,z,R,C,y,6,u[56]),C=o(C,B,z,R,x,10,u[57]),R=o(R,C,B,z,f,15,u[58]),z=o(z,R,C,B,S,21,u[59]),B=o(B,z,R,C,l,6,u[60]),C=o(C,B,z,R,m,10,u[61]),R=o(R,C,B,z,d,15,u[62]),z=o(z,R,C,B,g,21,u[63]);c[0]=c[0]+B|0,c[1]=c[1]+z|0,c[2]=c[2]+R|0,c[3]=c[3]+C|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;r[o>>>5]|=128<<24-o%32;var i=e.floor(n/4294967296);for(r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(r.length+1),this._process(),r=(t=this._hash).words,n=0;4>n;n++)o=r[n],r[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),i.MD5=s._createHelper(a),i.HmacMD5=s._createHmacHelper(a)}(Math),function(){var e,t=CryptoJS,r=(e=t.lib).Base,n=e.WordArray,o=(e=t.algo).EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=(s=this.cfg).hasher.create(),o=n.create(),i=o.words,c=s.keySize,s=s.iterations;i.length<c;){a&&r.update(a);var a=r.update(e).finalize(t);r.reset();for(var u=1;u<s;u++)a=r.finalize(a),r.reset();o.concat(a)}return o.sigBytes=4*c,o}});t.EvpKDF=function(e,t,r){return o.create(r).compute(e,t)}}(),CryptoJS.lib.Cipher||function(e){var t=(_=CryptoJS).lib,r=t.Base,n=t.WordArray,o=t.BufferedBlockAlgorithm,i=_.enc.Base64,c=_.algo.EvpKDF,s=t.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,r,n){return("string"==typeof r?f:l).encrypt(e,t,r,n)},decrypt:function(t,r,n){return("string"==typeof r?f:l).decrypt(e,t,r,n)}}}});t.StreamCipher=s.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=_.mode={},u=function(e,t,r){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]},d=(t.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();d.Encryptor=d.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize;u.call(this,e,t,n),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),d.Decryptor=d.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,o=e.slice(t,t+n);r.decryptBlock(e,t),u.call(this,e,t,n),this._prevBlock=o}}),a=a.CBC=d,d=(_.pad={}).Pkcs7={pad:function(e,t){for(var r,o=(r=(r=4*t)-e.sigBytes%r)<<24|r<<16|r<<8|r,i=[],c=0;c<r;c+=4)i.push(o);r=n.create(i,r),e.concat(r)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=s.extend({cfg:s.cfg.extend({mode:a,padding:d}),reset:function(){s.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),l=(a=(_.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t=(e=i.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var r=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:r})}},t.SerializableCipher=r.extend({cfg:r.extend({format:a}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n);return t=o.finalize(t),o=o.cfg,h.create({ciphertext:t,key:r,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),_=(_.kdf={}).OpenSSL={execute:function(e,t,r,o){return o||(o=n.random(8)),e=c.create({keySize:t+r}).compute(e,o),r=n.create(e.words.slice(t),4*r),e.sigBytes=4*t,h.create({key:e,iv:r,salt:o})}},f=t.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:_}),encrypt:function(e,t,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize),n.iv=r.iv,(e=l.encrypt.call(this,e,t,r.key,n)).mixIn(r),e},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),r=n.kdf.execute(r,e.keySize,e.ivSize,t.salt),n.iv=r.iv,l.decrypt.call(this,e,t,r.key,n)}})}(),function(){for(var e=CryptoJS,t=e.lib.BlockCipher,r=e.algo,n=[],o=[],i=[],c=[],s=[],a=[],u=[],d=[],h=[],l=[],_=[],f=0;256>f;f++)_[f]=128>f?f<<1:f<<1^283;var p=0,y=0;for(f=0;256>f;f++){var g=(g=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&g^99;n[p]=g,o[g]=p;var v=_[p],m=_[v],k=_[m],S=257*_[g]^16843008*g;i[p]=S<<24|S>>>8,c[p]=S<<16|S>>>16,s[p]=S<<8|S>>>24,a[p]=S,S=16843009*k^65537*m^257*v^16843008*p,u[g]=S<<24|S>>>8,d[g]=S<<16|S>>>16,h[g]=S<<8|S>>>24,l[g]=S,p?(p=v^_[_[_[k^v]]],y^=_[_[y]]):p=y=1}var w=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=t.extend({_doReset:function(){for(var e=(r=this._key).words,t=r.sigBytes/4,r=4*((this._nRounds=t+6)+1),o=this._keySchedule=[],i=0;i<r;i++)if(i<t)o[i]=e[i];else{var c=o[i-1];i%t?6<t&&4==i%t&&(c=n[c>>>24]<<24|n[c>>>16&255]<<16|n[c>>>8&255]<<8|n[255&c]):(c=n[(c=c<<8|c>>>24)>>>24]<<24|n[c>>>16&255]<<16|n[c>>>8&255]<<8|n[255&c],c^=w[i/t|0]<<24),o[i]=o[i-t]^c}for(e=this._invKeySchedule=[],t=0;t<r;t++)i=r-t,c=t%4?o[i]:o[i-4],e[t]=4>t||4>=i?c:u[n[c>>>24]]^d[n[c>>>16&255]]^h[n[c>>>8&255]]^l[n[255&c]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,c,s,a,n)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,l,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,c,s){for(var a=this._nRounds,u=e[t]^r[0],d=e[t+1]^r[1],h=e[t+2]^r[2],l=e[t+3]^r[3],_=4,f=1;f<a;f++){var p=n[u>>>24]^o[d>>>16&255]^i[h>>>8&255]^c[255&l]^r[_++],y=n[d>>>24]^o[h>>>16&255]^i[l>>>8&255]^c[255&u]^r[_++],g=n[h>>>24]^o[l>>>16&255]^i[u>>>8&255]^c[255&d]^r[_++];l=n[l>>>24]^o[u>>>16&255]^i[d>>>8&255]^c[255&h]^r[_++],u=p,d=y,h=g}p=(s[u>>>24]<<24|s[d>>>16&255]<<16|s[h>>>8&255]<<8|s[255&l])^r[_++],y=(s[d>>>24]<<24|s[h>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^r[_++],g=(s[h>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&d])^r[_++],l=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[d>>>8&255]<<8|s[255&h])^r[_++],e[t]=p,e[t+1]=y,e[t+2]=g,e[t+3]=l},keySize:8});e.AES=t._createHelper(r)}();var aes256=function(){var e=CryptoJS.enc.Utf8.parse("1as2always3harry");return{enkrypt:function(t){var r=CryptoJS.lib.WordArray.random(16),n=CryptoJS.AES.encrypt(t,e,{iv:r});return r.concat(n.ciphertext).toString(CryptoJS.enc.Base64)},dekrypt:function(t){var r=CryptoJS.enc.Base64.parse(t),n=r.clone();return n.sigBytes=16,n.clamp(),r.words.splice(0,4),r.sigBytes-=16,CryptoJS.AES.decrypt({ciphertext:r},e,{iv:n}).toString(CryptoJS.enc.Utf8)}}}();set_cookie.urlref(),turn_on_fid_cookie&&device_cd.set_cookie_fid(),turn_on_hsid_cookie&&set_cookie.hsid(),turn_on_dsid_cookie&&set_cookie.dsid(),turn_on_vid_cookie&&set_cookie.vid(),turn_on_xloc_cookie&&set_cookie.xloc(),turn_on_lang_cookie&&device_cd.set_cookie_lang(),turn_on_sending_logs_to_api_server&&(send_pdata(),send_log());
